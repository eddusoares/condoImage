@php
    // Espera receber $neighborhoods (Collection) do include. Se não vier, carrega 10 aleatórios.
    try {
        if (!isset($neighborhoods) || $neighborhoods->isEmpty()) {
            $neighborhoods = App\Models\Neighborhood::with('county')->where('status', 1)->inRandomOrder()->take(10)->get();
        }

        // Verificar se temos neighborhoods para mostrar
        if ($neighborhoods->isEmpty()) {
            $neighborhoods = collect(); // Collection vazia para evitar erros
        }

        // Agrupar neighborhoods em chunks de 2 para o carousel
        $chunkedNeighborhoods = $neighborhoods->chunk(2);
    } catch (Exception $e) {
        // Em caso de erro, usar collection vazia
        $neighborhoods = collect();
        $chunkedNeighborhoods = collect();
    }
@endphp

<section class="top-categories-container pb-100">
    <div class="container-fluid">
        <div class="row align-items-center g-5">
            <div class="col-lg-6">
                <div class="tc-copy">
                    <h2 class="tc-title">Stand out with better visuals</h2>
                    <p class="tc-subtitle">Discover premium images crafted for real estate professionals. From drone
                        shots to interiors and floor plans — all organized by building and neighborhood.</p>
                    <p class="tc-subtitle-secondary mb-4">Stand out from the competition with stunning, ready‑to‑use
                        visuals.</p>
                    <a href="{{ route('condo.building') }}" class="tc-button">Explore all buildings</a>
                </div>
                
                <!-- Controles para desktop - dentro da primeira coluna -->
                <div class="tc-inline-controls tc-inline-controls-desktop mt-3">
                    <div class="tc-nav-buttons">
                        <button class="tc-nav-btn tc-prev" type="button" aria-label="Previous">
                            <i class="fas fa-chevron-left"></i>
                        </button>
